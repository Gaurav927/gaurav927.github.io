<!doctype html>
<html lang="{{ page.lang | default: site.lang | default: 'en' }}">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>{% if page.title %}{{ page.title }} - {% endif %}{{ site.title | default: site.github.repository_name }}</title>
    {% if site.description %}
    <meta name="description" content="{{ site.description }}">
    {% endif %}
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.8.0/styles/atom-one-dark.min.css">
    
    <style>
      :root {
        --bg-color: #f8fafc; /* Usually a gradient in the body */
      --text-color: #1e293b;
      --heading-color: #0f172a;
      --primary-color: #3b82f6;
      --accent-color: #1e293b;
      --card-bg: rgba(255, 255, 255, 0.7);
      --border-radius: 16px;
      --shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      body {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        background: var(--bg-color);
        color: var(--text-color);
        line-height: 1.8;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        background-image: linear-gradient(to right bottom, #f8fafc, #e2e8f0);
      }

      a {
        color: var(--primary-color);
        text-decoration: none;
        transition: color 0.2s ease, border-bottom-color 0.2s ease;
        border-bottom: 1px solid transparent;
      }

      a:hover {
        color: var(--accent-color);
        border-bottom-color: var(--accent-color);
      }

      /* Header */
      header {
        background: transparent;
      color: var(--heading-color);
      padding: 3rem 2rem;
      text-align: center;
      }

      header h1 {
        font-size: 2.5rem;
        font-weight: 800;
        letter-spacing: -0.025em;
        line-height: 1.2;
        margin-bottom: 0.5rem;
      }
      
      header h1 a {
        color: inherit;
        border: none;
      }

      header p {
        font-size: 1.1rem;
        opacity: 0.9;
        max-width: 600px;
        margin: 0 auto;
        
      }

      /* Main Content */
      main {
        flex: 1;
        width: 100%;
        max-width: 900px;
        margin: 0 auto;
        background: var(--card-bg);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border-radius: var(--border-radius);
      box-shadow: var(--shadow);
      border: 1px solid rgba(255, 255, 255, 0.18);
      padding: 2.5rem;
        position: relative;
        z-index: 10;
      }

      /* Typography */
      h1, h2, h3, h4, h5, h6 {
        color: var(--heading-color);
        font-weight: 700;
        margin-top: 2.5rem;
        margin-bottom: 1rem;
        line-height: 1.3;
      }

      h1 { font-size: 2.25rem; }
      h2 { font-size: 1.75rem; padding-bottom: 0.5rem; border-bottom: 1px solid rgba(0,0,0,0.05); }
      h3 { font-size: 1.5rem; }

      p {
        margin-bottom: 1.5rem;
      }

      ul, ol {
        margin-bottom: 1.5rem;
        padding-left: 1.5rem;
      }
      
      li {
        margin-bottom: 0.5rem;
      }

      /* Code Blocks */
      pre {
        background: #1e293b;
        color: #e2e8f0;
        padding: 1.25rem;
        border-radius: 8px;
        overflow-x: auto;
        margin: 2rem 0;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        position: relative;
      }
      
      /* Mac-style window dots for code blocks */
      pre::before {
        content: "• • •";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 24px;
        background: #0f172a;
        color: #64748b;
        font-size: 24px;
        line-height: 16px;
        padding-left: 14px;
        border-top-left-radius: 8px;
        border-top-right-radius: 8px;
        letter-spacing: 2px;
        display: flex;
        align-items: center;
      }

      pre code {
        display: block;
        padding-top: 20px; /* Space for the header */
        background: transparent;
        font-family: 'Fira Code', monospace;
        font-size: 0.9em;
      }

      /* Inline Code */
      :not(pre) > code {
        background: rgba(0,0,0,0.06);
        color: #be185d;
        padding: 0.2em 0.4em;
        border-radius: 4px;
        font-family: 'Fira Code', monospace;
        font-size: 0.85em;
      }

      blockquote {
        border-left: 4px solid var(--primary-color);
        padding: 1rem 1.5rem;
        margin: 2rem 0;
        background: rgba(0,0,0,0.02);
        border-radius: 0 8px 8px 0;
        font-style: italic;
        color: #475569;
      }

      /* Tables */
      table {
        width: 100%;
        border-collapse: collapse;
        margin: 2rem 0;
      }
      
      th, td {
        padding: 0.75rem;
        border-bottom: 1px solid rgba(0,0,0,0.1);
        text-align: left;
      }
      
      th {
        background: transparent; /* Removed background to prevent header look for accidental tables */
        font-weight: 600;
        border-bottom: 2px solid rgba(0,0,0,0.1);
      }

      footer {
        text-align: center;
        padding: 3rem 1rem;
        color: #64748b;
        font-size: 0.9rem;
        margin-top: auto;
      }

      /* Mobile */
      @media (max-width: 768px) {
        header {
          padding: 3rem 1.5rem;
          clip-path: none;
        }
        main {
          margin-top: 0;
          border-radius: 0;
          box-shadow: none;
          padding: 1.5rem;
        }
      }
    </style>
  </head>

  <body>
    <header>
      <h1><a href="{{ '/' | relative_url }}">{{ site.title | default: "Your Site" }}</a></h1>
      {% if site.tagline %}<p>{{ site.tagline }}</p>{% endif %}
    </header>

    <main>
      {{ content }}
    </main>

    <footer>
      <p>&copy; {{ site.time | date: "%Y" }} {{ site.title | default: "" }}. Powered by GitHub Pages.</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/highlight.js@11.8.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    
    <!-- MathJax for nice math rendering -->
    <script>
    window.MathJax = {
      tex: { 
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        processEscapes: true
      }
    };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" async></script>
  </body>
</html>
